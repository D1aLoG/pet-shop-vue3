import{s as v}from"./index-bYg977Vk.js";import{_ as h,m as C,h as b,c as r,b as e,i as a,j as x,g as c,t as d,k as m,o as n,l as p,a as $,d as g,F as P,r as j}from"./index-C2ccw7wI.js";const q={props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},methods:{...C(b,["addQty","removeQty","removeProduct"])}},B={class:"flex flex-col gap-4 rounded-lg border bg-white p-4 shadow-sm sm:flex-row sm:items-center"},F=["src"],N={class:"flex flex-grow flex-col justify-center gap-2"},Q={class:"font-bold text-slate-900"},S={class:"flex items-center justify-between gap-4 sm:justify-end"},V={class:"flex h-10 items-center rounded-lg border select-none"},A={class:"px-4 font-bold"};function D(o,t,s,y,k,f){const u=c("router-link"),i=c("vue-feather");return n(),r("div",B,[e("img",{class:"h-32 w-32 shrink-0 rounded-md object-cover",src:s.item.image,alt:"Картинка"},null,8,F),e("div",N,[a(u,{to:`/product/${s.item.id}`,class:"font-semibold text-slate-900 hover:underline"},{default:x(()=>[p(d(s.item.title),1)]),_:1},8,["to"]),e("span",Q,d((s.item.price*s.item.quantity).toFixed(2))+" ₽",1)]),e("div",S,[e("div",V,[e("span",{onClick:t[0]||(t[0]=m(l=>o.removeQty(s.index),["prevent"])),class:"cursor-pointer px-3 py-1 text-lg text-slate-500 transition hover:bg-slate-100"},"-"),e("span",A,d(s.item.quantity),1),e("span",{onClick:t[1]||(t[1]=m(l=>o.addQty(s.index),["prevent"])),class:"cursor-pointer px-3 py-1 text-lg text-slate-500 transition hover:bg-slate-100"},"+")]),e("button",{onClick:t[2]||(t[2]=m(l=>o.removeProduct(s.item),["prevent"])),class:"text-slate-400 transition hover:text-red-500"},[a(i,{type:"x",class:"h-6 w-6"})])])])}const E=h(q,[["render",D]]),L={components:{CartProduct:E,ProgressSpinner:v},computed:{...$(b,["products","pending"]),total(){return this.products.reduce((o,t)=>o+t.price*t.quantity,0)}}},M={class:"mx-auto w-full max-w-4xl"},O={key:1,class:"py-16 text-center text-slate-500"},T={key:2,class:"flex flex-col gap-6"},z={class:"mt-4 flex flex-col items-end gap-4 self-end rounded-lg border bg-white p-6 shadow-sm"},G={class:"text-right"},H={class:"ml-2 text-2xl font-bold text-slate-900"};function I(o,t,s,y,k,f){const u=v,i=c("router-link"),l=c("CartProduct");return n(),r("div",M,[t[4]||(t[4]=e("h1",{class:"mb-6 text-3xl font-bold text-slate-900"},"Корзина",-1)),o.pending?(n(),g(u,{key:0})):o.products.length===0?(n(),r("div",O,[t[1]||(t[1]=e("h2",{class:"text-xl font-semibold"},"Ваша корзина пуста",-1)),a(i,{to:"/",class:"mt-4 inline-block text-purple-600 hover:underline"},{default:x(()=>t[0]||(t[0]=[p(" Перейти в каталог ",-1)])),_:1,__:[0]})])):(n(),r("div",T,[(n(!0),r(P,null,j(o.products,(_,w)=>(n(),g(l,{key:_.id,item:_,index:w},null,8,["item","index"]))),128)),e("div",z,[e("div",G,[t[2]||(t[2]=e("span",{class:"text-slate-500"},"Общая сумма:",-1)),e("span",H,d(f.total.toFixed(2))+" ₽",1)]),a(i,{to:"/checkout",class:"w-full rounded-lg bg-green-600 py-3 text-center font-bold text-white transition hover:bg-green-700"},{default:x(()=>t[3]||(t[3]=[p(" Оформить заказ ",-1)])),_:1,__:[3]})])]))])}const R=h(L,[["render",I]]);export{R as default};
