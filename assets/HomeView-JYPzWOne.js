import{s as h}from"./index-bYg977Vk.js";import{_ as w,m as P,a as p,c as o,b as l,d as m,w as d,v as f,F as u,r as c,e as _,f as b,u as A,g as k,o as r,t as y}from"./index-C2ccw7wI.js";import{u as g}from"./products-B9qwIn9Z.js";import{P as T}from"./ProductCard-DpKaHt_5.js";import"./request-a1iyVawE.js";const S={components:{Product:T,ProgressSpinner:h},data(){return{searchQuery:"",selectedAnimal:"all",selectedType:"all"}},computed:{...p(g,["products","pending"]),...p(A,{favoriteItems:"products"}),uniqueAnimals(){if(!this.products)return[];const s=this.products.map(e=>e.animal);return["all",...new Set(s)]},uniqueTypes(){if(!this.products)return[];const s=this.products.map(e=>e.type);return["all",...new Set(s)]},displayProducts(){if(!Array.isArray(this.products))return[];let s=this.products;if(this.selectedAnimal!=="all"&&(s=s.filter(e=>e.animal===this.selectedAnimal)),this.selectedType!=="all"&&(s=s.filter(e=>e.type===this.selectedType)),this.searchQuery){const e=this.searchQuery.toLowerCase();s=s.filter(a=>a.title.toLowerCase().includes(e))}return s.map(e=>({...e,isFavorite:!!this.favoriteItems.find(a=>a.id===e.id)}))}},methods:{...P(g,["getData"])},mounted(){this.getData()}},V={class:"flex w-full flex-col gap-8"},q={class:"flex flex-col items-center justify-between gap-4 md:flex-row"},C={class:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center"},Q=["value"],B=["value"],D={key:1,class:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},F={key:0,class:"col-span-full py-16 text-center text-slate-500"};function L(s,e,a,U,i,n){const x=h,v=k("Product");return r(),o("div",V,[l("div",q,[e[5]||(e[5]=l("h1",{class:"text-3xl font-bold text-slate-900 md:text-4xl"},"Каталог",-1)),l("div",C,[d(l("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.selectedAnimal=t),class:"rounded-lg border bg-white p-2 text-slate-700"},[e[3]||(e[3]=l("option",{value:"all"},"Все животные",-1)),(r(!0),o(u,null,c(n.uniqueAnimals.filter(t=>t!=="all"),t=>(r(),o("option",{key:t,value:t},y(t),9,Q))),128))],512),[[f,i.selectedAnimal]]),d(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.selectedType=t),class:"rounded-lg border bg-white p-2 text-slate-700"},[e[4]||(e[4]=l("option",{value:"all"},"Все типы",-1)),(r(!0),o(u,null,c(n.uniqueTypes.filter(t=>t!=="all"),t=>(r(),o("option",{key:t,value:t},y(t),9,B))),128))],512),[[f,i.selectedType]]),d(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.searchQuery=t),class:"rounded-lg border bg-white py-2 pr-4 pl-4 text-slate-700 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Поиск по названию...",type:"text"},null,512),[[_,i.searchQuery,void 0,{lazy:!0}]])])]),s.pending&&n.displayProducts.length===0?(r(),m(x,{key:0})):(r(),o("div",D,[(r(!0),o(u,null,c(n.displayProducts,t=>(r(),m(v,{key:t.id,item:t},null,8,["item"]))),128)),!s.pending&&n.displayProducts.length===0?(r(),o("div",F,e[6]||(e[6]=[l("h2",{class:"text-xl font-semibold"},"Товары не найдены",-1),l("p",{class:"mt-2"},"Попробуйте изменить фильтры или поисковый запрос.",-1)]))):b("",!0)]))])}const E=w(S,[["render",L]]);export{E as default};
